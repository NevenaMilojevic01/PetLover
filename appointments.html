<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>PetLover - Pet Care Website Template</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Free HTML Templates" name="keywords" />
    <meta content="Free HTML Templates" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans&family=Nunito:wght@600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Flaticon Font -->
    <link href="lib/flaticon/font/flaticon.css" rel="stylesheet" />

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link
      href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
      rel="stylesheet"
    />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />
  </head>

  <body>
    <!-- Topbar Start -->
    <div class="container-fluid">
      <div class="row bg-secondary py-2 px-lg-5">
        <div class="col-lg-6 text-center text-lg-left mb-2 mb-lg-0">
          <div class="d-inline-flex align-items-center">
            <a class="text-white pr-3" href="">FAQs</a>
            <span class="text-white">|</span>
            <a class="text-white px-3" href="">Help</a>
            <span class="text-white">|</span>
            <a class="text-white pl-3" href="">Support</a>
          </div>
        </div>
        <div class="col-lg-6 text-center text-lg-right">
          <div class="d-inline-flex align-items-center">
            <a class="text-white px-3" href="">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a class="text-white px-3" href="">
              <i class="fab fa-twitter"></i>
            </a>
            <a class="text-white px-3" href="">
              <i class="fab fa-linkedin-in"></i>
            </a>
            <a class="text-white px-3" href="">
              <i class="fab fa-instagram"></i>
            </a>
            <a class="text-white pl-3" href="">
              <i class="fab fa-youtube"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="row py-3 px-lg-5">
        <div class="col-lg-4">
          <a href="" class="navbar-brand d-none d-lg-block">
            <h1 class="m-0 display-5 text-capitalize">
              <span class="text-primary">Pet</span>Lover
            </h1>
          </a>
        </div>
        <div class="col-lg-8 text-center text-lg-right">
          <div class="d-inline-flex align-items-center">
            <div
              class="d-inline-flex flex-column text-center px-3 border-right"
            >
              <h6>Logged in user</h6>
              <p class="m-0" id="logged-in-user">Loading...</p>
            </div>
            <div
              class="d-inline-flex flex-column text-center px-3 border-right"
            >
              <h6>Opening Hours</h6>
              <p class="m-0">8.00AM - 9.00PM</p>
            </div>
            <div
              class="d-inline-flex flex-column text-center px-3 border-right"
            >
              <h6>Email Us</h6>
              <p class="m-0">info@example.com</p>
            </div>
            <div class="d-inline-flex flex-column text-center pl-3">
              <h6>Call Us</h6>
              <p class="m-0">+012 345 6789</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Topbar End -->

    <!-- Navbar Start -->
    <div class="container-fluid p-0">
      <nav
        class="navbar navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-lg-5"
      >
        <a href="" class="navbar-brand d-block d-lg-none">
          <h1 class="m-0 display-5 text-capitalize font-italic text-white">
            <span class="text-primary">Safety</span>First
          </h1>
        </a>
        <button
          type="button"
          class="navbar-toggler"
          data-toggle="collapse"
          data-target="#navbarCollapse"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-between px-3"
          id="navbarCollapse"
        >
          <div class="navbar-nav mr-auto py-0">
            <a href="index.html" class="nav-item nav-link">Home</a>
            <a href="about.html" class="nav-item nav-link">About</a>
            <a href="service.html" class="nav-item nav-link">Service</a>
            <a href="booking.html" class="nav-item nav-link">Booking</a>
            <a href="contact.html" class="nav-item nav-link">Contact</a>
            <a
              href="appointments.html"
              id="appointments"
              style="display: none"
              class="nav-item nav-link active"
              >Appointments</a
            >
            <a href="#" class="nav-item nav-link" id="logout-button">Logout</a>
          </div>
        </div>
      </nav>
    </div>
    <!-- Navbar End -->

    <table class="table table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Service</th>
          <th>Time</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white mt-5 py-5 px-sm-3 px-md-5">
      <div class="row pt-5">
        <div class="col-lg-4 col-md-12 mb-5">
          <h1 class="mb-3 display-5 text-capitalize text-white">
            <span class="text-primary">Pet</span>Lover
          </h1>
          <p class="m-0">
            The bond between owner and pet is like no otherâ€”they're our
            companions, always along for the ride no matter what ups and downs
            life brings. They show us joy and make us laugh, and even listen to
            us like they know exactly what we're saying.
          </p>
        </div>
        <div class="col-lg-8 col-md-12">
          <div class="row">
            <div class="col-md-4 mb-5">
              <h5 class="text-primary mb-4">Get In Touch</h5>
              <p>
                <i class="fa fa-map-marker-alt mr-2"></i>Location, City, Country
              </p>
              <p><i class="fa fa-phone-alt mr-2"></i>+012 345 67890</p>
              <p><i class="fa fa-envelope mr-2"></i>info@example.com</p>
              <div class="d-flex justify-content-start mt-4">
                <a
                  class="btn btn-outline-light rounded-circle text-center mr-2 px-0"
                  style="width: 36px; height: 36px"
                  href="#"
                  ><i class="fab fa-twitter"></i
                ></a>
                <a
                  class="btn btn-outline-light rounded-circle text-center mr-2 px-0"
                  style="width: 36px; height: 36px"
                  href="#"
                  ><i class="fab fa-facebook-f"></i
                ></a>
                <a
                  class="btn btn-outline-light rounded-circle text-center mr-2 px-0"
                  style="width: 36px; height: 36px"
                  href="#"
                  ><i class="fab fa-linkedin-in"></i
                ></a>
                <a
                  class="btn btn-outline-light rounded-circle text-center mr-2 px-0"
                  style="width: 36px; height: 36px"
                  href="#"
                  ><i class="fab fa-instagram"></i
                ></a>
              </div>
            </div>
            <div class="col-md-4 mb-5">
              <h5 class="text-primary mb-4">Popular Links</h5>
              <div class="d-flex flex-column justify-content-start">
                <a href="index.html" class="text-white mb-2"
                  ><i class="fa fa-angle-right mr-2"></i>Home</a
                >
                <a href="#" class="text-white mb-2"
                  ><i class="fa fa-angle-right mr-2"></i>About Us</a
                >
                <a href="service.html" class="text-white mb-2"
                  ><i class="fa fa-angle-right mr-2"></i>Our Services</a
                >
                <a href="contact.html" class="text-white"
                  ><i class="fa fa-angle-right mr-2"></i>Contact Us</a
                >
              </div>
            </div>
            <div class="col-md-4 mb-5">
              <h5 class="text-primary mb-4">Newsletter</h5>
              <form action="">
                <div class="form-group">
                  <input
                    type="text"
                    class="form-control border-0"
                    placeholder="Your Name"
                    required="required"
                  />
                </div>
                <div class="form-group">
                  <input
                    type="email"
                    class="form-control border-0"
                    placeholder="Your Email"
                    required="required"
                  />
                </div>
                <div>
                  <button
                    class="btn btn-lg btn-primary btn-block border-0"
                    type="submit"
                  >
                    Submit Now
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="container-fluid text-white py-4 px-sm-3 px-md-5"
      style="background: #111111"
    ></div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary back-to-top"
      ><i class="fa fa-angle-double-up"></i
    ></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyAEP_ydlwLDo-CpytHQnndOgnVtjFecMOU",
        authDomain: "petlover-87ed0.firebaseapp.com",
        projectId: "petlover-87ed0",
        storageBucket: "petlover-87ed0.appspot.com",
        messagingSenderId: "698290292945",
        appId: "1:698290292945:web:28108eaf850d75a28f5df0",
        measurementId: "G-QNL2C4HT48",
        databaseURL:
          "https://petlover-87ed0-default-rtdb.europe-west1.firebasedatabase.app",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);

      import {
        getDatabase,
        set,
        get,
        update,
        remove,
        ref,
        child,
        onValue,
      } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

      const appointmentsLink = document.querySelector("#appointments");
      const token = sessionStorage.getItem("id_token");

      if (token) {
        appointmentsLink.setAttribute("style", "display:block");
      }

      const db = getDatabase();

      var enterName = document.querySelector("#enterPetName");
      var enterName = document.querySelector("#enterRace");
      var enterName = document.querySelector("#enterName");
      var enterEmail = document.querySelector("#enterEmail");
      var enterService = document.querySelector("#enterService");
      var date = document.querySelector("#date");
      var time = document.querySelector("#time");

      var submitBtn = document.querySelector("#submit");

      function PopulateTable() {
        onValue(
          ref(db, "Pet/"),
          (snapshot) => {
            createTable(snapshot);
          },
          (error) => {
            console.log("Error retrieving data:", error);
          }
        );
      }

      function createTable(snapshot) {
        const tableContainer = document.querySelector("#tableBody");

        // Clear the table container before updating
        tableContainer.innerHTML = "";

        snapshot.forEach((childSnapshot) => {
          const data = childSnapshot.val();
          const tableRow = document.createElement("tr");

          const name = document.createElement("td");
          name.innerHTML = data["PetName"];
          name.classList.add("text-bold");
          tableRow.appendChild(name);

          const email = document.createElement("td");
          email.innerHTML = data["Email"];
          email.classList.add("text-bold");
          tableRow.appendChild(email);

          const service = document.createElement("td");
          service.innerHTML = data["Service"];
          service.classList.add("text-bold");
          tableRow.appendChild(service);

          const time = document.createElement("td");
          time.innerHTML = data["Time"];
          time.classList.add("text-bold");
          tableRow.appendChild(time);

          const date = document.createElement("td");
          date.innerHTML = data["Date"];
          date.classList.add("text-bold");
          tableRow.appendChild(date);

          tableContainer.appendChild(tableRow);
        });
      }

      document.addEventListener("DOMContentLoaded", function (event) {
        // Your function here
        PopulateTable();
      });
    </script>
  </body>
</html>
